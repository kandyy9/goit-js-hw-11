{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["const APIKey = \"44834659-67420821c74452072565be409\";\n\nexport const fetchImages = (query) => {\n    const encodedQuery = encodeURIComponent(query);\n    const url = `https://pixabay.com/api/?key=${APIKey}&q=${encodedQuery}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40`;\n    const options = {\n        method: \"GET\"\n    };\n    return fetch(url, options)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        });\n};\n","export const renderGallery = (images, galleryElement) => {\n    galleryElement.innerHTML = \"\";\n\n    const galleryItems = images.map(image =>\n        `<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\"/>\n            </a>\n            <ul class=\"info-summary\">\n                <li class=\"info-item\"><h3 class=\"info-title\">Likes</h3><p class=\"info-statistics\">${image.likes}</p></li>\n                <li class=\"info-item\"><h3 class=\"info-title\">Views</h3><p class=\"info-statistics\">${image.views}</p></li>\n                <li class=\"info-item\"><h3 class=\"info-title\">Comments</h3><p class=\"info-statistics\">${image.comments}</p></li>\n                <li class=\"info-item\"><h3 class=\"info-title\">Downloads</h3><p class=\"info-statistics\">${image.downloads}</p></li>\n            </ul>\n        </li>`\n    ).join('');\n    galleryElement.insertAdjacentHTML(\"beforeend\", galleryItems);\n};\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderGallery } from './js/render-function.js';\n\nconst form = document.querySelector(\".form\");\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\nconst smplGallery = new SimpleLightbox('.gallery-item a', { captions: true, captionsData: 'alt', captionDelay: 250 });\n\nform.addEventListener(\"submit\", (evt) => {\n    evt.preventDefault();\n    loader.style.display = \"block\";\n    const query = evt.target.elements.search.value.trim();\n    if (query.length <= 0) {\n        loader.style.display = \"none\";\n        return iziToast.error({ title: \"Error\", message: \"Search value is empty\", position: \"topRight\" });\n    }\n\n    fetchImages(query)\n        .then(data => {\n            loader.style.display = \"none\";\n            if (data.hits.length === 0) {\n                throw new Error(\"No images found\");\n            }\n            renderGallery(data.hits, gallery);\n            smplGallery.refresh();\n        })\n        .catch(error => {\n            loader.style.display = \"none\";\n            console.error(error);\n            iziToast.error({ \n                title: \"Error\", \n                message: `Sorry, there are no images matching your search query. Please try again! Error: ${error.message}`, \n                position: \"topRight\" \n            });\n        });\n});\n"],"names":["APIKey","fetchImages","query","encodedQuery","url","response","renderGallery","images","galleryElement","galleryItems","image","form","gallery","loader","smplGallery","SimpleLightbox","evt","iziToast","data","error"],"mappings":"6vBAAA,MAAMA,EAAS,qCAEFC,EAAeC,GAAU,CAClC,MAAMC,EAAe,mBAAmBD,CAAK,EACvCE,EAAM,gCAAgCJ,CAAM,MAAMG,CAAY,uEAIpE,OAAO,MAAMC,EAHG,CACZ,OAAQ,KAChB,CAC6B,EACpB,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,ECfaC,EAAgB,CAACC,EAAQC,IAAmB,CACrDA,EAAe,UAAY,GAE3B,MAAMC,EAAeF,EAAO,IAAIG,GAC5B;AAAA,4CACoCA,EAAM,aAAa;AAAA,kDACbA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,oGAGYA,EAAM,KAAK;AAAA,oGACXA,EAAM,KAAK;AAAA,uGACRA,EAAM,QAAQ;AAAA,wGACbA,EAAM,SAAS;AAAA;AAAA,cAGvH,EAAM,KAAK,EAAE,EACTF,EAAe,mBAAmB,YAAaC,CAAY,CAC/D,ECTME,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAc,IAAIC,EAAe,kBAAmB,CAAE,SAAU,GAAM,aAAc,MAAO,aAAc,GAAK,CAAA,EAEpHJ,EAAK,iBAAiB,SAAWK,GAAQ,CACrCA,EAAI,eAAc,EAClBH,EAAO,MAAM,QAAU,QACvB,MAAMX,EAAQc,EAAI,OAAO,SAAS,OAAO,MAAM,OAC/C,GAAId,EAAM,QAAU,EAChB,OAAAW,EAAO,MAAM,QAAU,OAChBI,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,wBAAyB,SAAU,UAAU,CAAE,EAGpGhB,EAAYC,CAAK,EACZ,KAAKgB,GAAQ,CAEV,GADAL,EAAO,MAAM,QAAU,OACnBK,EAAK,KAAK,SAAW,EACrB,MAAM,IAAI,MAAM,iBAAiB,EAErCZ,EAAcY,EAAK,KAAMN,CAAO,EAChCE,EAAY,QAAO,CAC/B,CAAS,EACA,MAAMK,GAAS,CACZN,EAAO,MAAM,QAAU,OACvB,QAAQ,MAAMM,CAAK,EACnBF,EAAS,MAAM,CACX,MAAO,QACP,QAAS,mFAAmFE,EAAM,OAAO,GACzG,SAAU,UAC1B,CAAa,CACb,CAAS,CACT,CAAC"}